// ==UserScript==
// @description       四川大学 教务管理 系统 无验证码登录
// @description:en    Sichuan University Academic Affairs Management System Login without verification code
// @match             http://zhjw.scu.edu.cn/*
// @match             https://zhjw.scu.edu.cn/*
// @match             202.115.47.141/*
// @match             /http(s?):\/\/zhjw\.scu\.edu\.cn(.*)/
// @require           https://cdn.jsdelivr.net/npm/sweetalert2@10
// @connect           my.scu.edu.cn
// @connect           dev.songe.li
// @connect           localhost
// @connect           127.0.0.1
// @connect           *
// @grant             unsafeWindow
// @grant             GM_xmlhttpRequest
// @author            https://github.com/lisonge
// @name              四川大学教务系统无验证码登录
// @namespace         https://dev.songe.li/
// @source            https://github.com/lisonge/zhjw.scu-no_captcha.git
// @icon              http://zhjw.scu.edu.cn/img/icon/favicon.ico
// @version           0.1.2
// @note              hello
// ==/UserScript==

(()=>{"use strict";var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=Swal;var t=e.n(o),n=function(e,o,t,n){return new(t||(t=Promise))((function(r,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var o;e.done?r(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(c,a)}u((n=n.apply(e,o||[])).next())}))},r=function(e,o,t,n){return new(t||(t=Promise))((function(r,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var o;e.done?r(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(c,a)}u((n=n.apply(e,o||[])).next())}))};if(location.pathname.startsWith("/login"))["#input_checkcode","#native > a"].map((e=>document.querySelector(e))).forEach((e=>{var o;null===(o=null==e?void 0:e.parentNode)||void 0===o||o.removeChild(e)})),document.querySelector("#loginButton").onclick=()=>{},document.querySelector("#native").addEventListener("submit",(e=>r(void 0,void 0,void 0,(function*(){e.preventDefault(),(yield function(){return n(this,void 0,void 0,(function*(){const e={"Login.Token1":document.querySelector("#input_username").value,"Login.Token2":document.querySelector("#input_password").value,goto:"http://my.scu.edu.cn/loginSuccess.portal",gotoOnFail:"http://my.scu.edu.cn/loginFailure.portal"},o=new URLSearchParams;for(const t in e)o.set(t,e[t]);return yield new Promise(((e,t)=>{GM_xmlhttpRequest({method:"POST",url:"http://my.scu.edu.cn/userPasswordValidate.portal",data:o.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},onload:o=>{const t=new Headers(o.responseHeaders.trim().split("\n").map((e=>e.split(": ",2))));e(t.has("set-cookie"))},onerror:()=>{t("network error")}})}))}))}())?location.href=location.href:(console.log("login error."),t().fire({icon:"error",title:"登录失败",text:"账号/密码错误",footer:'<a href="https://github.com/lisonge/zhjw.scu-no_captcha.git" target="_blank">登录说明</a>'}))}))));else{const e=document.querySelector("#logout"),o=e.href+"";e.href="javascript:void(0);",e.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){(yield function(){return n(this,void 0,void 0,(function*(){return yield new Promise(((e,o)=>{GM_xmlhttpRequest({method:"GET",url:"http://my.scu.edu.cn/destroySSOToken.portal",onload:o=>{e(!0)},onerror:()=>{o("network error")}})}))}))}())?(console.log(o),location.href=o):console.log("logout error.")}))))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96aGp3LnNjdS1ub19jYXB0Y2hhL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3poancuc2N1LW5vX2NhcHRjaGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vemhqdy5zY3Utbm9fY2FwdGNoYS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vemhqdy5zY3Utbm9fY2FwdGNoYS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3poancuc2N1LW5vX2NhcHRjaGEvZXh0ZXJuYWwgXCJTd2FsXCIiLCJ3ZWJwYWNrOi8vemhqdy5zY3Utbm9fY2FwdGNoYS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly96aGp3LnNjdS1ub19jYXB0Y2hhLy4vc3JjL3V0aWwudHMiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTd2FsIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInN0YXJ0c1dpdGgiLCJtYXAiLCJzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImVsIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwib25jbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJkYXRhIiwidmFsdWUiLCJnb3RvIiwiZ290b09uRmFpbCIsInVwIiwiVVJMU2VhcmNoUGFyYW1zIiwiayIsInNldCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiR01feG1saHR0cFJlcXVlc3QiLCJtZXRob2QiLCJ1cmwiLCJ0b1N0cmluZyIsImhlYWRlcnMiLCJvbmxvYWQiLCJyZXNwb25zZSIsIkhlYWRlcnMiLCJyZXNwb25zZUhlYWRlcnMiLCJ0cmltIiwic3BsaXQiLCJoIiwiaGFzIiwib25lcnJvciIsInByb3h5TG9naW4iLCJocmVmIiwiY29uc29sZSIsImxvZyIsImljb24iLCJ0aXRsZSIsInRleHQiLCJmb290ZXIiLCJsb2dvdXRFbCIsImxvZ291dEhyZWYiLCJwcm94eUxvZ291dCJdLCJtYXBwaW5ncyI6Im1CQUNBLElBQUlBLEVBQXNCLENDQTFCLEVBQXlCQyxJQUN4QixJQUFJQyxFQUFTRCxHQUFVQSxFQUFPRSxXQUM3QixJQUFPRixFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQUQsRUFBb0JJLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLEdDTFIsRUFBd0IsQ0FBQ0ksRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUCxFQUFvQlMsRUFBRUYsRUFBWUMsS0FBU1IsRUFBb0JTLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0UsRUFBd0IsQ0FBQ00sRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsSUNBbEYsTUFBTSxFQUErQkksSyx5bEJDVXJDLEdBQUlDLFNBQVNDLFNBQVNDLFdBQVcsVUFDL0IsQ0FBQyxtQkFBb0IsZUFDbEJDLEtBQUtDLEdBQU1DLFNBQVNDLGNBQWNGLEtBQ2xDRyxTQUFTQyxJLE1BQ00sUUFBZCxFQUFBQSxhQUFFLEVBQUZBLEVBQUlDLGtCQUFVLFNBQUVDLFlBQVlGLE1BRVpILFNBQVNDLGNBQzNCLGdCQUVVSyxRQUFVLE9BQ1ROLFNBQVNDLGNBQWMsV0FDL0JNLGlCQUFpQixVQUFpQkMsR0FBTSxvQ0FDM0NBLEVBQUVDLHdCQ2RDLFcseUNBQ0wsTUFNTUMsRUFBTyxDQUNYLGVBUGdCVixTQUFTQyxjQUN6QixtQkFDcUJVLE1BTXJCLGVBTGdCWCxTQUFTQyxjQUN6QixtQkFDcUJVLE1BSXJCQyxLQUFNLDJDQUNOQyxXQUFZLDRDQUVSQyxFQUFLLElBQUlDLGdCQUNmLElBQUssTUFBTUMsS0FBS04sRUFDZEksRUFBR0csSUFBSUQsRUFBR04sRUFBS00sSUFHakIsYUFBYSxJQUFJRSxTQUNmLENBQUNDLEVBQW1DQyxLQUNsQ0Msa0JBQWtCLENBQ2hCQyxPQUFRLE9BQ1JDLElBQUssbURBQ0xiLEtBQU1JLEVBQUdVLFdBQ1RDLFFBQVMsQ0FDUCxlQUFnQixxQ0FFbEJDLE9BQVNDLElBQ1AsTUFBTUYsRUFBVSxJQUFJRyxRQUNsQkQsRUFBU0UsZ0JBQ05DLE9BQ0FDLE1BQU0sTUFDTmpDLEtBQUtrQyxHQUFNQSxFQUFFRCxNQUFNLEtBQVMsTUFFakNaLEVBQVFNLEVBQVFRLElBQUksZ0JBRXRCQyxRQUFTLEtBQ1BkLEVBQU8sMEJEdEJXZSxJQUV0QnhDLFNBQVN5QyxLQUFPekMsU0FBU3lDLE1BRXpCQyxRQUFRQyxJQUFJLGdCQUNaLFNBQVUsQ0FDUkMsS0FBTSxRQUNOQyxNQUFPLE9BQ1BDLEtBQU0sVUFDTkMsT0FDRSxvR0FJSCxDQUNMLE1BQU1DLEVBQVczQyxTQUFTQyxjQUFjLFdBQ2xDMkMsRUFBYUQsRUFBU1AsS0FBTyxHQUNuQ08sRUFBU1AsS0FBTyxzQkFDaEJPLEVBQVNwQyxpQkFBaUIsU0FBUyxJQUFZLDJDQ1cxQyxXLHlDQUNMLGFBQWEsSUFBSVcsU0FDZixDQUFDQyxFQUFtQ0MsS0FDbENDLGtCQUFrQixDQUNoQkMsT0FBUSxNQUNSQyxJQUFLLDhDQUNMRyxPQUFTQyxJQUNQUixHQUFRLElBRVZlLFFBQVMsS0FDUGQsRUFBTywwQkRwQlN5QixLQUVwQlIsUUFBUUMsSUFBSU0sR0FDWmpELFNBQVN5QyxLQUFPUSxHQUVoQlAsUUFBUUMsSUFBSSx3QiIsImZpbGUiOiJidW5kbGUudXNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gU3dhbDsiLCIvKlxyXG4gKiBARGF0ZTogMjAyMS0wMS0wOSAxNjoxMjo1NFxyXG4gKiBATGFzdEVkaXRvcnM6IGxpc29uZ2VcclxuICogQEF1dGhvcjogbGlzb25nZVxyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIxLTAzLTEzIDIxOjIwOjA2XHJcbiAqL1xyXG5cclxuaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInO1xyXG5pbXBvcnQgeyBwcm94eUxvZ2luLCBwcm94eUxvZ291dCB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG5pZiAobG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2xvZ2luJykpIHtcclxuICBbJyNpbnB1dF9jaGVja2NvZGUnLCAnI25hdGl2ZSA+IGEnXVxyXG4gICAgLm1hcCgocykgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKSBhcyBIVE1MRWxlbWVudClcclxuICAgIC5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICBlbD8ucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgfSk7XHJcbiAgY29uc3QgbG9naW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgJyNsb2dpbkJ1dHRvbidcclxuICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgbG9naW5CdXR0b24ub25jbGljayA9ICgpID0+IHt9O1xyXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmF0aXZlJykgYXMgSFRNTEZvcm1FbGVtZW50O1xyXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHN1Y2Nlc3NJbiA9IGF3YWl0IHByb3h5TG9naW4oKTtcclxuICAgIGlmIChzdWNjZXNzSW4pIHtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLmhyZWY7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnbG9naW4gZXJyb3IuJyk7XHJcbiAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgaWNvbjogJ2Vycm9yJyxcclxuICAgICAgICB0aXRsZTogJ+eZu+W9leWksei0pScsXHJcbiAgICAgICAgdGV4dDogJ+i0puWPty/lr4bnoIHplJnor68nLFxyXG4gICAgICAgIGZvb3RlcjpcclxuICAgICAgICAgICc8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2xpc29uZ2Uvemhqdy5zY3Utbm9fY2FwdGNoYS5naXRcIiB0YXJnZXQ9XCJfYmxhbmtcIj7nmbvlvZXor7TmmI48L2E+JyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0gZWxzZSB7XHJcbiAgY29uc3QgbG9nb3V0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9nb3V0JykgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XHJcbiAgY29uc3QgbG9nb3V0SHJlZiA9IGxvZ291dEVsLmhyZWYgKyAnJztcclxuICBsb2dvdXRFbC5ocmVmID0gJ2phdmFzY3JpcHQ6dm9pZCgwKTsnO1xyXG4gIGxvZ291dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHByb3h5TG9nb3V0KCk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICBjb25zb2xlLmxvZyhsb2dvdXRIcmVmKTtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9IGxvZ291dEhyZWY7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnbG9nb3V0IGVycm9yLicpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4iLCIvKlxyXG4gKiBARGF0ZTogMjAyMS0wMS0wOSAxOToxNDozM1xyXG4gKiBATGFzdEVkaXRvcnM6IGxpc29uZ2VcclxuICogQEF1dGhvcjogbGlzb25nZVxyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIxLTAzLTEzIDE5OjM0OjE0XHJcbiAqL1xyXG4vLyBpbXBvcnQgeyBHTV94bWxodHRwUmVxdWVzdCB9IGZyb20gJy4vQHR5cGVzL3RtX2YnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb3h5TG9naW4oKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3QgdXNlcm5hbWUgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICcjaW5wdXRfdXNlcm5hbWUnXHJcbiAgKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICBjb25zdCBwYXNzd29yZCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgJyNpbnB1dF9wYXNzd29yZCdcclxuICApIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAnTG9naW4uVG9rZW4xJzogdXNlcm5hbWUsXHJcbiAgICAnTG9naW4uVG9rZW4yJzogcGFzc3dvcmQsXHJcbiAgICBnb3RvOiAnaHR0cDovL215LnNjdS5lZHUuY24vbG9naW5TdWNjZXNzLnBvcnRhbCcsXHJcbiAgICBnb3RvT25GYWlsOiAnaHR0cDovL215LnNjdS5lZHUuY24vbG9naW5GYWlsdXJlLnBvcnRhbCcsXHJcbiAgfSBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xyXG4gIGNvbnN0IHVwID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xyXG4gIGZvciAoY29uc3QgayBpbiBkYXRhKSB7XHJcbiAgICB1cC5zZXQoaywgZGF0YVtrXSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoXHJcbiAgICAocmVzb2x2ZTogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkLCByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQpID0+IHtcclxuICAgICAgR01feG1saHR0cFJlcXVlc3Qoe1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9teS5zY3UuZWR1LmNuL3VzZXJQYXNzd29yZFZhbGlkYXRlLnBvcnRhbCcsXHJcbiAgICAgICAgZGF0YTogdXAudG9TdHJpbmcoKSxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxyXG4gICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZUhlYWRlcnNcclxuICAgICAgICAgICAgICAudHJpbSgpXHJcbiAgICAgICAgICAgICAgLnNwbGl0KCdcXG4nKVxyXG4gICAgICAgICAgICAgIC5tYXAoKGgpID0+IGguc3BsaXQoJzpcXHgyMCcsIDIpKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJlc29sdmUoaGVhZGVycy5oYXMoJ3NldC1jb29raWUnKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbmVycm9yOiAoKSA9PiB7XHJcbiAgICAgICAgICByZWplY3QoJ25ldHdvcmsgZXJyb3InKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJveHlMb2dvdXQoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKFxyXG4gICAgKHJlc29sdmU6ICh2YWx1ZTogYm9vbGVhbikgPT4gdm9pZCwgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHtcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9teS5zY3UuZWR1LmNuL2Rlc3Ryb3lTU09Ub2tlbi5wb3J0YWwnLFxyXG4gICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25lcnJvcjogKCkgPT4ge1xyXG4gICAgICAgICAgcmVqZWN0KCduZXR3b3JrIGVycm9yJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgKTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9